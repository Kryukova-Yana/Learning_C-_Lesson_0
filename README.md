# Урок 0. Работа с классами, вывод сообщений в консоль
В этом уроке Вам предстоит создать несколько классов, отражающих объекты реального мира (резервуар, установка, завод), а также использовать основные операторы языка: условные операторы, циклы, вызов методов и использование возвращаемых из них результатов.

# **Что нужно знать**
1. Типы данных.
2. Циклы, условные операторы.
3. Классы, методы (a.k.a. функции), свойства (и, в частности, автосвойства), поля.
4. Основы ООП.
5. Работа с коллекциями, строками.
6. (*) JSON - что за формат, какие правила? Чем отличается от XML - преимущества и недостатки. Что такое Newtonsoft Json (на смену которому пришёл System.Text.Json от MS)? Что такое сериализация и десериализация?
7. (*) Синтаксис LINQ.
8. (*) Кодировки, unicode, utf-8, utf-16. Чем UTF-8 отличается от ASCII, насколько он с ней совместим? Рекомендую начать изучение с прочтения статьи Джоэла Спольски. Также что такое little-endian и big-endian?

Для выполнения задания склонируйте к себе на компьютер созданный на GitHub репозиторий, создайте там новый solution (это можно сделать в Visual Studio) с консольным C# приложением. Следующие уроки Вам предстоит выполнять, добавляя новые приложение в этом solution'е или дорабатывая приложения из предыдущих уроков.

<details>

<summary>Как начать работу в git-репозитории на GitHub</summary>

0. Создать новый публичный репозиторий (рекомендуется сразу поставить галочку `Initilaize with Readme.md`, а также добавить .gitignore-файл по шаблону Visual Studio).
1. [Клонировать](https://docs.microsoft.com/visualstudio/version-control/git-clone-repository) к себе на компьютер этот репозиторий ([используя GUI-клиент](https://docs.github.com/en/desktop/contributing-and-collaborating-using-github-desktop/adding-and-cloning-repositories/cloning-and-forking-repositories-from-github-desktop) на выбор или встроенный в Visual Studio).
2. В папке репозитория создать новый солюшн с консольным приложением на C# (в Visual Studio)
3. Выполнить задание соответствующего урока.
4. Закоммитить свои изменения (не забыв добавить .gitignore если его нет, чтобы в репозиторий попали только файлы с исходным кодом, а не бинари).
5. Сделать push в удалённый (remote) репозиторий, чтобы изменения были опубликованы на GitHub.

Первое задание допустимо выполнить, сделав коммит напрямую в ветке по умолчанию. При выполнении последующих заданий, процесс проверки ДЗ желательно проводить посредством код-ревью. Вместо того, чтобы коммитить напрямую в основной ветке, нужно предварительно создать от неё новую локальную ветку, закоммитить в этой ветке и запушить. После этого на гитхабе [создать мерж-реквест](https://docs.gitlab.com/ee/user/project/merge_requests/creating_merge_requests.html#when-you-use-git-commands-locally), который отправить на ревью.

</details>


# **Задание**

1. Создать классы, описывающие структуру каждой из приведённых выше таблиц.
2. Создать экзепляры объектов из таблицы. Вы можете создавать объекты с помощью new, прямо в коде определив значения из приложенных таблиц. 
3. Реализовать функции, возвращающие результат согласно комментариям. Используйте циклы, условные операторы и оператор switch
4. Осуществить вывод в консоль всех резервуаров, включая имена цеха и фабрики, в которых они числятся.
5. Вывести общую сумму загрузки всех резервуаров.
6. (*) Осуществить возможность поиска по наименованию в коллекции, например через ввод в консоли.
7. (*) Реализовать чтение и десериализацию из json-файлов (потребуется продумать структуру и подготовить json файлы с указанными в таблицах данными).
7. (*) Выгрузить все объекты в json файл.
8. (*) Реализовать функции, возвращающие результат согласно комментариям. Используйте LINQ для более лаконичных запросов при фильтрации, выборе или суммировании значений.
9. (**) Считать данные таблиц Excel напрямую, используя любую библиотеку.

<details>
<summary>Таблицы Factories (заводы), Units (установки), Tanks (резервуары)</summary>

**Таблица Factories (заводы)**

| Id     | Name    | Description                        |
|:------:|:--------|:-----------------------------------|
| 1      | НПЗ№1   | Первый нефтеперерабатывающий завод |
| 2      | НПЗ№2   | Второй нефтеперерабатывающий завод |


**Таблица Units (установки)**

| Id     | Name    | Description                    | FactoryId |
|:------:|:--------|:------------------------------ |:---------:|
| 1      | ГФУ-2   | Газофракционирующая установка  |     1     |
| 2      | АВТ-6   | Атмосферно-вакуумная трубчатка |     1     |
| 3      | АВТ-10  | Атмосферно-вакуумная трубчатка |     2     |

**Таблица Tanks (резервуары)**

| Id	   | Name                         | Description	               | Volume   |	MaxVolume |	UnitId |
|:------:|:---------------------------- |:-------------------------- |:--------:|:---------:|:------:|
| 1	     | Резервуар 1	                | Надземный - вертикальный	 | 1500	    | 2000	    | 1      | 
| 2	     | Резервуар 2	                | Надземный - горизонтальный | 2500	    | 3000	    | 1      |
| 3	     | Дополнительный резервуар 24	| Надземный - горизонтальный | 3000	    | 3000	    | 2      |
| 4      | Резервуар 35	                | Надземный - вертикальный	 | 3000	    | 3000	    | 2      |
| 5	     | Резервуар 47	                | Подземный - двустенный	   | 4000	    | 5000	    | 2      |
| 6	     | Резервуар 256	              | Подводный	                 | 500	    | 500	      | 3      |

</details>
За основу можно взять код ниже:

<details>
<summary>Пример кода</summary>

```ruby
  
   class Program
{
  static void Main(string[] args)
  {
    var tanks = GetTanks();
    var units = GetUnits();
    var factories = GetFactories();
    Console.WriteLine($"Количество резервуаров: {tanks.Length}, установок: {units.Length}");

    var foundUnit = FindUnit(units, tanks, "Резервуар 2");
    var factory = FindFactory(factories, foundUnit);

    Console.WriteLine($"Резервуар 2 принадлежит установке {foundUnit.Name} и заводу {factory.Name}");

    var totalVolume = GetTotalVolume(tanks);
    Console.WriteLine($"Общий объем резервуаров: {totalVolume}");
  }

  // реализуйте этот метод, чтобы он возвращал массив резервуаров, согласно приложенным таблицам
  // можно использовать создание объектов прямо в C# коде через new, или читать из файла (на своё усмотрение)
  public static Tank[] GetTanks()
  {
    // ваш код здесь
  }
  // реализуйте этот метод, чтобы он возвращал массив установок, согласно приложенным таблицам
  public static Unit[] GetUnits()
  {
    // ваш код здесь
  }
  // реализуйте этот метод, чтобы он возвращал массив заводов, согласно приложенным таблицам
  public static Factory[] GetFactories()
  {
    // ваш код здесь
  }

  // реализуйте этот метод, чтобы он возвращал установку (Unit), которой
  // принадлежит резервуар (Tank), найденный в массиве резервуаров по имени
  // учтите, что по заданному имени может быть не найден резервуар
  public static Unit FindUnit(Unit[] units, Tank[] tanks, string unitName)
  {
    // ваш код здесь
  }

  // реализуйте этот метод, чтобы он возвращал объект завода, соответствующий установке
  public static Factory FindFactory(Factory[] factories, Unit unit)
  {
    // ваш код здесь
  }

  // реализуйте этот метод, чтобы он возвращал суммарный объем резервуаров в массиве
  public static int GetTotalVolume(Tank[] units)
  {
    // ваш код здесь
  }
}

/// <summary>
/// Установка
/// </summary>
public class Unit
{
  //..
}

/// <summary>
/// Завод
/// </summary>
public class Factory
{
  //..
}

/// <summary>
/// Резервуар
/// </summary>
public class Tank
{
  //..
}

```
</details>

> [!IMPORTANT]
> Код выполненного задания опубликовать в свой git-репозиторий.
> Каждое из следующих заданий выполняйте в отдельной ветке этого репозитория, оформляя merge request в основную ветку.
> При наличии ментора, просите его провести код-ревью, в ходе которого он оставит свои комментарии к Вашему коду, или оставит отметку Approved.

# **Материалы**

**Руководства**

https://metanit.com/sharp/tutorial

https://docs.microsoft.com/dotnet/csharp/tutorials/intro-to-csharp

https://docs.microsoft.com/dotnet/csharp/programming-guide

**Книги**

CLR via C# | Джеффри Рихтер

https://upload.wikimedia.org/wikipedia/commons/b/b3/C_Sharp_Programming.pdf

**Программы**

https://visualstudio.microsoft.com/ru

https://desktop.github.com

https://code.visualstudio.com
